<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>electronics</title>
    <style>
      body{
        background-color:rgb(128, 247, 201);
      }
        #data{
            display: grid;
            grid-template-columns: 20% 20% 20% 20%;
            grid-gap: 5%;
            margin-left: 40px;
            margin-bottom: 5%;
            height: 100px;   
        }
        img {
            width: 40%;
            height: 50%;

        }
        #data div {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        p,h2{
            font-size: 100%;
        }
        .main{
          margin-bottom: 50px;
          font-size: 20px;
        }
        h1{
          width: 300px;
          background-color:rgb(220, 253, 98);
          padding: 20px;
          text-align: center;
          margin:auto;
          border-radius: 15px;
          border: 1px solid black;
        }
        #data div{
          background-color: azure;
          border-radius: 15px;
          padding: 10px;
          margin-bottom: 0px;
          border: 1px solid red;
        }

    </style>
</head>
<body>
  <div id="main">
     <h1>Electronics factory</h1>
   <button class="main"><a href="cart1.html">Visit cart</a></button>
   <div id="data"></div>
  </div>
    <script>
        const Electronics = [
    {
      name: "SAMSUNG Galaxy M11 (Black, 32 GB)  (3 GB RAM)",
      price: "12700",
      image: "https://rukminim1.flixcart.com/image/416/416/kavefm80/mobile/6/y/t/samsung-galaxy-m11-sm-m115fzkeins-original-imafscjyhxwghgwf.jpeg?q=70",
    },

    {
      name: "Tecno Camon 15 Pro (Opal White, 128 GB)  (6 GB RAM)",
      price: "11700",
      image: "https://rukminim1.flixcart.com/image/416/416/k6zda4w0/mobile/s/n/9/tecno-camon-15-pro-cd8-original-imafpbhc7p25zda7.jpeg?q=70",
    },
    {
      name: "POCO M2 Pro (Two Shades of Black, 64 GB)  (6 GB RAM)",
      price: "1299",
      image: "https://rukminim1.flixcart.com/image/416/416/kcauaa80/mobile/2/p/u/poco-m2-pro-mzb9621in-original-imaftg9fkdpgbgxq.jpeg?q=70",
    },
    {
      name: "OPPO Reno3 Pro (Sky White, 128 GB)  (8 GB RAM)",
      price: "21000",
      image: "https://rukminim1.flixcart.com/image/416/416/k79dd3k0/mobile/t/k/v/oppo-reno3-pro-cph2035-original-imafpj4fpqp3zpq3.jpeg?q=70",
    },
    {
      name: "realme X3 SuperZoom (Arctic White, 128 GB)  (8 GB RAM)",
      price: "21700",
      image: "https://rukminim1.flixcart.com/image/416/416/kbs9k7k0/mobile/w/4/r/realme-x3-superzoom-rmx2085-original-imaft26hvewk4dpj.jpeg?q=70",
    },
    {
      name: "SAMSUNG Galaxy A31 (Prism Crush White, 128 GB)  (6 GB RAM)",
      price: "20700",
      image: "https://rukminim1.flixcart.com/image/416/416/kamtsi80/mobile/4/a/6/samsung-galaxy-a31-sm-a315fzwwins-original-imafs5p5y3gf4cej.jpeg?q=70",
    },
    {
      name: "vivo V19 (Mystic Silver, 128 GB)  (8 GB RAM)",
      price: "24700",
      image: "https://rukminim1.flixcart.com/image/416/416/k9stjm80/mobile/g/z/n/vivo-v19-vivo-1933-pd1969f-ex-original-imafrgnzzumcn2zw.jpeg?q=70",
    },
  ];
      const MOBILE_JSON=JSON.stringify(Electronics);
      //store above data in local storage
      localStorage.setItem("Mobiles",MOBILE_JSON);
      
      //display on web page
      let Mobiles=localStorage.getItem("Mobiles");

      //convert JSON into object;
       Mobiles=JSON.parse(Mobiles);

       //create elements in div
      
       function showProduct(){
        var data_div=document.getElementById("data");
        Mobiles.forEach(function (Product) {
            var div=document.createElement("div");
            var p_name=document.createElement("h2");
            p_name.innerText=Product.name;
            var p_price=document.createElement("p");
            p_price.innerText=Product.price;
            var image=document.createElement("img");
            image.src=Product.image;
            var btn=document.createElement("button");
            btn.innerHTML="Add to cart";
            btn.onclick= function () {
              addtocart(Product);
            }
            div.append(image,p_name,p_price,btn)
            data_div.append(div);   
        }); 
      
         if(localStorage.getItem("cart")==null){
          localStorage.setItem("cart",JSON.stringify([]))
         }
        function addtocart(p){
          var cart_data=JSON.parse(localStorage.getItem("cart"));
          var flag=true;
          for(var i=0;i<cart_data.length;i++){
            if(p.name==cart_data[i].name){
              flag=false;
            }
          }
          if(flag==true){
            cart_data.push(p)
          }else{
            alert("Already Added to Cart")
          }
         
          
          localStorage.setItem("cart",JSON.stringify(cart_data));

        }
    }
    showProduct() 
    </script>
</body>
</html>